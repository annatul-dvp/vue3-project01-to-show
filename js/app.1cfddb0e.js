(function(){"use strict";var e={86:function(e,t,r){r.d(t,{C:function(){return o}});const o="https://vue-study.skillbox.cc"},3736:function(e,t,r){function o(e){return new Intl.NumberFormat("ru",{style:"currency",currency:"RUB"}).format(e)}r.d(t,{Z:function(){return o}})},9098:function(e,t,r){r.d(t,{Z:function(){return c}});var o=r(4161),a=r(3736),s=r(4870),i=r(3396),l=r(86);function c(){const e=(0,s.iH)(null),t=(0,i.Fl)((()=>e.value.category)),r=(0,s.qj)({isLoading:!1,isFailed:!1}),c=t=>{r.isLoading=!0,r.isFailed=!1,o.Z.get(`${l.C}/api/products/${t}`).then((t=>{const r=t.data;e.value=Object.assign(r,{pricePretty:(0,a.Z)(r.price),imageURL:r.image.file.url})})).catch((()=>{r.isFailed=!0})).then((()=>{r.isLoading=!1}))};return{product:e,category:t,status:r,fetchProduct:c}}},2127:function(e,t,r){r.d(t,{Z:function(){return s}});var o=r(65),a=r(4870);function s(e){const t=(0,o.oR)(),r=(0,a.qj)({isAdded:!1,isAddSending:!1,isAddedMessageShowed:!1}),s=(0,a.iH)(1),i=()=>{r.isAdded=!1,r.isAddSending=!0,r.isAddedMessageShowed=!1,t.dispatch("addProductToCart",{productID:e.value.id,amount:s.value}).then((()=>{r.isAdded=!0,r.isAddSending=!1,r.isAddedMessageShowed=!0}))};return{productAmount:s,status:r,doAddToCart:i}}},9353:function(e,t,r){var o=r(9242),a=r(3396);const s={class:"header"},i={class:"header__wrapper container"},l=(0,a._)("span",{class:"header__info"},"Каталог",-1),c=(0,a._)("a",{class:"header__logo",href:"#"},[(0,a._)("img",{src:"img/svg/logo-tech.svg",alt:"Логотип интернет магазина Технозавррр",width:"190",height:"33"})],-1),n=(0,a._)("a",{class:"header__tel",href:"tel:8 800 600 90 09"}," 8 800 600 90 09 ",-1),u=(0,a.uE)('<footer class="footer"><div class="footer__wrapper container"><ul class="footer__links"><li><a class="footer__link" href="#"> Каталог </a></li><li><a class="footer__link" href="tel:88006009009"> 8 800 600 90 09 </a></li><li><a class="footer__link" href="mailto:hi@technozavrrr.com"> hi@technozavrrr.com </a></li><li><a class="footer__link" href="#"> Распродажа </a></li><li><a class="footer__link footer__link--medium" href="#"> Заказать звонок </a></li></ul><ul class="footer__social social"><li class="social__item"><a class="social__link" href="#" aria-label="Вконтакте"><svg width="20" height="11" fill="currentColor"><use xlink:href="#icon-vk"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Инстаграм"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-insta"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Facebook"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-facebook"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Twitter"><svg width="17" height="14" fill="currentColor"><use xlink:href="#icon-twitter"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Telegram"><svg width="19" height="17" fill="currentColor"><use xlink:href="#icon-telegram"></use></svg></a></li></ul><p class="footer__desc"> Все права на материалы, находящиеся на сайте, охраняются в соответствии с законодательством РФ, в том числе об авторском праве и смежных правах. </p><ul class="footer__data"><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Политика конфиденциальности </a></li><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Публичная оферта </a></li></ul><span class="footer__copyright"> © 2020 Технозавррр </span></div></footer><div id="teleport-target"></div>',2);function d(e,t,r,o,d,p){const m=(0,a.up)("CartIndicator"),_=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("header",s,[(0,a._)("div",i,[l,c,n,(0,a.Wm)(m)])]),((0,a.wg)(),(0,a.j4)(_,{key:e.$route.fullPath})),u],64)}var p=r(65),m=r(7139);const _=(0,a._)("svg",{width:"30",height:"21",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-cart"})],-1),h={class:"header__count","aria-label":"Количество товаров"};function f(e,t,r,o,s,i){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.j4)(l,{class:"header__cart","aria-label":"Корзина с товарами",to:{name:"cart"}},{default:(0,a.w5)((()=>[_,(0,a._)("span",h,(0,m.zw)(e.$store.state.cartProducts.length),1)])),_:1})}var g={},v=r(89);const y=(0,v.Z)(g,[["render",f]]);var b=y,P=(0,a.aZ)({name:"App",components:{CartIndicator:b},created(){const e=localStorage.getItem("userAccessKey");e&&this.updateUserAccessKey(e),this.loadCart()},methods:{...(0,p.nv)(["loadCart"]),...(0,p.OI)(["updateUserAccessKey"])}});const k=(0,v.Z)(P,[["render",d]]);var w=k,C=r(678);const D={class:"content container"},A=(0,a._)("div",{class:"content__top content__top--catalog"},[(0,a._)("h1",{class:"content__title"}," Каталог "),(0,a._)("span",{class:"content__info"}," 152 товара ")],-1),I={class:"content__catalog"},T={class:"catalog"},x={key:0},Z=(0,a._)("svg",{"xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.0",width:"150px",height:"38px",viewBox:"0 0 128 32","xml:space":"preserve"},[(0,a._)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"#FFFFFF"}),(0,a._)("circle",{fill:"#000000",cx:"0",cy:"0",r:"11",transform:"translate(16 16)"},[(0,a._)("animateTransform",{attributeName:"transform",type:"scale",additive:"sum",values:"1;1.42;1;1;1;1;1;1;1;1",dur:"1350ms",repeatCount:"indefinite"})]),(0,a._)("circle",{fill:"#000000",cx:"0",cy:"0",r:"11",transform:"translate(64 16)"},[(0,a._)("animateTransform",{attributeName:"transform",type:"scale",additive:"sum",values:"1;1;1;1;1.42;1;1;1;1;1",dur:"1350ms",repeatCount:"indefinite"})]),(0,a._)("circle",{fill:"#000000",cx:"0",cy:"0",r:"11",transform:"translate(112 16)"},[(0,a._)("animateTransform",{attributeName:"transform",type:"scale",additive:"sum",values:"1;1;1;1;1;1;1;1.42;1;1",dur:"1350ms",repeatCount:"indefinite"})])],-1),O=[Z],F={key:1},z=(0,a.Uk)(" При загрузке товаров произошла ошибка. ");function E(e,t,r,o,s,i){const l=(0,a.up)("ProductFilter"),c=(0,a.up)("ProductList"),n=(0,a.up)("BasePagination");return(0,a.wg)(),(0,a.iD)("main",D,[A,(0,a._)("div",I,[(0,a.Wm)(l,{"price-from":e.filterPriceFrom,"onUpdate:price-from":t[0]||(t[0]=t=>e.filterPriceFrom=t),"price-to":e.filterPriceTo,"onUpdate:price-to":t[1]||(t[1]=t=>e.filterPriceTo=t),"category-id":e.filterCategoryId,"onUpdate:category-id":t[2]||(t[2]=t=>e.filterCategoryId=t),colorId:e.filterColorId,"onUpdate:colorId":t[3]||(t[3]=t=>e.filterColorId=t)},null,8,["price-from","price-to","category-id","colorId"]),(0,a._)("section",T,[e.productsLoading?((0,a.wg)(),(0,a.iD)("div",x,O)):(0,a.kq)("",!0),e.productsLoadingFailed?((0,a.wg)(),(0,a.iD)("div",F,[z,(0,a._)("button",{onClick:t[4]||(t[4]=(...t)=>e.loadProducts&&e.loadProducts(...t))},"Попробовать ещё раз")])):(0,a.kq)("",!0),(0,a.Wm)(c,{products:e.products},null,8,["products"]),(0,a.Wm)(n,{modelValue:e.page,"onUpdate:modelValue":t[5]||(t[5]=t=>e.page=t),count:e.countProducts,"per-page":e.productPerPage},null,8,["modelValue","count","per-page"])])])])}var $=r(4161);const S={class:"catalog__list"};function V(e,t,r,o,s,i){const l=(0,a.up)("ProductItems");return(0,a.wg)(),(0,a.iD)("ul",S,[(0,a.Wm)(l,{products:e.products},null,8,["products"])])}const U=["src","alt"],M={class:"catalog__title"},L=["onClick"],K={class:"catalog__price"},W={class:"colors colors--black"},j={class:"colors__label"},B=["value"];function H(e,t,r,s,i,l){const c=(0,a.up)("router-link"),n=(0,a.up)("ProductQuickView"),u=(0,a.up)("BaseModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.productsNormalized,(r=>((0,a.wg)(),(0,a.iD)("li",(0,a.dG)(e.$attrs,{class:"catalog__item",key:r.id}),[(0,a.Wm)(c,{to:{name:"product",params:{id:r.id}}},{default:(0,a.w5)((()=>[(0,a._)("img",{class:"catalog__pic",src:r.image,alt:r.title},null,8,U)])),_:2},1032,["to"]),(0,a._)("h3",M,[(0,a._)("a",{href:"#",onClick:(0,o.iM)((t=>e.openQuickView(r.id)),["prevent"])},(0,m.zw)(r.title),9,L)]),(0,a._)("span",K,(0,m.zw)(r.pricePretty),1),(0,a._)("ul",W,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.colors,(r=>((0,a.wg)(),(0,a.iD)("li",{class:"colors__item",key:r.id},[(0,a._)("label",j,[(0,a.wy)((0,a._)("input",{id:"colors__blue",class:"colors__radio sr-only",type:"radio",value:r.code,"onUpdate:modelValue":t[0]||(t[0]=t=>e.color=t)},null,8,B),[[o.G2,e.color]]),(0,a._)("span",{class:"colors__value",style:(0,m.j5)({backgroundColor:r.code})},null,4)])])))),128))])],16)))),128)),(0,a.Wm)(u,{open:e.isQuickViewOpened,"onUpdate:open":t[1]||(t[1]=t=>e.isQuickViewOpened=t)},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{"product-id":e.currentProductId},null,8,["product-id"])])),_:1},8,["open"])],64)}var N={};function q(e,t){N.$emit("gotoPage",e,t)}var Y=r(3736),G=r(8574),Q=(0,a.aZ)({inheritAttrs:!1,components:{BaseModal:G.Z,ProductQuickView:(0,a.RC)({loader:()=>r.e(929).then(r.bind(r,5929)),delay:0,loadingComponent:()=>(0,a.h)("div","Загрузка...")})},data(){return{color:"#73B6EA",currentProductId:null}},computed:{isQuickViewOpened:{get(){return!!this.currentProductId},set(e){e||(this.currentProductId=null)}},productsNormalized(){return this.products.map((e=>({...e,pricePretty:(0,Y.Z)(e.price)})))}},methods:{gotoPage:q,openQuickView(e){this.currentProductId=e}},props:["products"]});const R=(0,v.Z)(Q,[["render",H]]);var X=R,J=(0,a.aZ)({props:["products"],components:{ProductItems:X}});const ee=(0,v.Z)(J,[["render",V]]);var te=ee;const re={class:"catalog__pagination pagination"},oe={class:"pagination__item"},ae=(0,a._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-arrow-left"})],-1),se=[ae],ie=["onClick"],le={class:"pagination__item"},ce=(0,a._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-arrow-right"})],-1),ne=[ce];function ue(e,t,r,s,i,l){return(0,a.wg)(),(0,a.iD)("ul",re,[(0,a._)("li",oe,[(0,a._)("a",{href:"#",class:(0,m.C_)(["pagination__link pagination__link--arrow",{"pagination__link--disabled":1===l.page}]),onClick:t[0]||(t[0]=(0,o.iM)(((...e)=>l.prevPage&&l.prevPage(...e)),["prevent"])),"aria-label":"Предыдущая страница"},se,2)]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.pages,(e=>((0,a.wg)(),(0,a.iD)("li",{class:"pagination__item",key:e},[(0,a._)("a",{href:"#",class:(0,m.C_)(["pagination__link",{"pagination__link--current":e===l.page}]),onClick:t=>l.paginate(e)},(0,m.zw)(e),11,ie)])))),128)),(0,a._)("li",le,[(0,a._)("a",{href:"#",class:(0,m.C_)(["pagination__link pagination__link--arrow",{"pagination__link--disabled":l.page===l.pages}]),onClick:t[1]||(t[1]=(0,o.iM)(((...e)=>l.nextPage&&l.nextPage(...e)),["prevent"])),"aria-label":"Следующая страница"},ne,2)])])}var de={props:["modelValue","count","perPage"],computed:{page(){return this.modelValue},pages(){return Math.ceil(this.count/this.perPage)}},methods:{paginate(e){this.$emit("update:modelValue",e)},prevPage(){1!==this.page&&this.$emit("paginate",this.page-1)},nextPage(){this.page!==this.pages&&this.$emit("paginate",this.page+1)}}};const pe=(0,v.Z)(de,[["render",ue]]);var me=pe;const _e={class:"filter"},he=(0,a._)("h2",{class:"filter__title"},"Фильтры",-1),fe={class:"form__block"},ge=(0,a._)("legend",{class:"form__legend"},"Цена",-1),ve={class:"form__label form__label--price"},ye=(0,a._)("span",{class:"form__value"},"От",-1),be={class:"form__label form__label--price"},Pe=(0,a._)("span",{class:"form__value"},"До",-1),ke={class:"form__block"},we=(0,a._)("legend",{class:"form__legend"},"Категория",-1),Ce={class:"form__label form__label--select"},De=(0,a._)("option",{value:"0"},"Все категории",-1),Ae=["value"],Ie={class:"form__block"},Te=(0,a._)("legend",{class:"form__legend"},"Цвет",-1),xe={class:"colors"},Ze={class:"colors__label"},Oe=["value"],Fe=(0,a.uE)('<fieldset class="form__block"><legend class="form__legend">Объемб в ГБ</legend><ul class="check-list"><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="8" checked=""><span class="check-list__desc"> 8 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="16"><span class="check-list__desc"> 16 <span>(461)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="32"><span class="check-list__desc"> 32 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="64"><span class="check-list__desc"> 64 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="128"><span class="check-list__desc"> 128 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="264"><span class="check-list__desc"> 264 <span>(313)</span></span></label></li></ul></fieldset><button class="filter__submit button button--primery" type="submit"> Применить </button>',2);function ze(e,t,r,s,i,l){return(0,a.wg)(),(0,a.iD)("aside",_e,[he,(0,a._)("form",{class:"filter__form form",action:"#",method:"get",onSubmit:t[5]||(t[5]=(0,o.iM)(((...t)=>e.submit&&e.submit(...t)),["prevent"]))},[(0,a._)("fieldset",fe,[ge,(0,a._)("label",ve,[(0,a.wy)((0,a._)("input",{class:"form__input",type:"text",name:"min-price","onUpdate:modelValue":t[0]||(t[0]=t=>e.currentPriceFrom=t)},null,512),[[o.nr,e.currentPriceFrom]]),ye]),(0,a._)("label",be,[(0,a.wy)((0,a._)("input",{class:"form__input",type:"text",name:"max-price","onUpdate:modelValue":t[1]||(t[1]=t=>e.currentPriceTo=t)},null,512),[[o.nr,e.currentPriceTo]]),Pe])]),(0,a._)("fieldset",ke,[we,(0,a._)("label",Ce,[(0,a.wy)((0,a._)("select",{class:"form__select",name:"category","onUpdate:modelValue":t[2]||(t[2]=t=>e.currentCategoryId=t)},[De,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.categories,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,m.zw)(e.title),9,Ae)))),128))],512),[[o.bM,e.currentCategoryId]])])]),(0,a._)("fieldset",Ie,[Te,(0,a._)("ul",xe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.colors,(r=>((0,a.wg)(),(0,a.iD)("li",{class:"colors__item",key:r.id},[(0,a._)("label",Ze,[(0,a.wy)((0,a._)("input",{class:"colors__radio sr-only",type:"radio",name:"color",value:r.code,"onUpdate:modelValue":t[3]||(t[3]=t=>e.currentColor=t)},null,8,Oe),[[o.G2,e.currentColor]]),(0,a._)("span",{class:"colors__value",style:(0,m.j5)({backgroundColor:r.code})},null,4)])])))),128))])]),Fe,(0,a._)("button",{class:"filter__reset button button--second",type:"button",onClick:t[4]||(t[4]=(0,o.iM)(((...t)=>e.reset&&e.reset(...t)),["prevent"]))}," Сбросить ")],32)])}var Ee=r(86),$e=(0,a.aZ)({props:["priceFrom","priceTo","categoryId","colorId"],data(){return{currentPriceFrom:0,currentPriceTo:0,currentCategoryId:0,currentColor:"#73b6ea",categoriesData:null,colorsData:null}},computed:{categories(){return this.categoriesData?this.categoriesData.items:[]},colors(){return this.colorsData?this.colorsData.items:[]}},watch:{priceFrom(e){this.currentPriceFrom=e},priceTo(e){this.currentPriceTo=e},categoryId(e){this.currentCategoryId=e},colorId(e){this.currentColor=this.colorsData.items.find((t=>t.id===e)).code}},methods:{submit(){this.$emit("update:priceFrom",this.currentPriceFrom),this.$emit("update:priceTo",this.currentPriceTo),this.$emit("update:categoryId",this.currentCategoryId),this.$emit("update:colorId",this.colorsData.items.find((e=>e.code.toLowerCase()===this.currentColor.toLowerCase())).id)},reset(){this.$emit("update:priceFrom",0),this.$emit("update:priceTo",0),this.$emit("update:categoryId",0),this.$emit("update:colorId",0)},loadCategories(){$.Z.get(`${Ee.C}/api/productCategories`).then((e=>{this.categoriesData=e.data}))},loadColors(){$.Z.get(`${Ee.C}/api/colors`).then((e=>{this.colorsData=e.data}))}},created(){this.loadCategories(),this.loadColors()}});const Se=(0,v.Z)($e,[["render",ze]]);var Ve=Se,Ue=(0,a.aZ)({components:{ProductList:te,BasePagination:me,ProductFilter:Ve},data(){return{filterPriceFrom:0,filterPriceTo:0,filterCategoryId:0,filterColorId:0,page:1,productPerPage:3,productsData:null,productsLoading:!1,productsLoadingFailed:!1}},computed:{products(){return this.productsData?this.productsData.items.map((e=>({...e,image:e.image.file.url}))):[]},countProducts(){return this.productsData?this.productsData.pagination.total:0}},methods:{loadProducts(){this.productsLoading=!0,this.productsLoadingFailed=!1,clearTimeout(this.loadProductsTimer),this.loadProductsTimer=setTimeout((()=>{$.Z.get(`${Ee.C}/api/products`,{params:{page:this.page,limit:this.productPerPage,categoryId:this.filterCategoryId,colorId:this.filterColorId,minPrice:this.filterPriceFrom,maxPrice:this.filterPriceTo}}).then((e=>{this.productsData=e.data})).catch((()=>{this.productsLoadingFailed=!0})).then((()=>{this.productsLoading=!1}))}),2e3)}},watch:{page(){this.loadProducts()},filterCategoryId(){this.loadProducts()},filterColorId(){this.loadProducts()},filterPriceFrom(){this.loadProducts()},filterPriceTo(){this.loadProducts()}},created(){this.loadProducts()}});const Me=(0,v.Z)(Ue,[["render",E]]);var Le=Me;function Ke(e,t){return(0,a.wg)(),(0,a.iD)("h1",null,"Страница не найдена")}const We={},je=(0,v.Z)(We,[["render",Ke]]);var Be=je;const He={key:0,class:"content container"},Ne={key:1,class:"content container"},qe={key:2,class:"content container"},Ye={class:"content__top"},Ge={class:"breadcrumbs"},Qe={class:"breadcrumbs__item"},Re=(0,a.Uk)(" Каталог "),Xe={class:"breadcrumbs__item"},Je={class:"breadcrumbs__item"},et={class:"breadcrumbs__link"},tt={class:"item"},rt={class:"item__pics pics"},ot={class:"pics__wrapper"},at=["src","alt"],st={class:"item__info"},it={class:"item__code"},lt={class:"item__title"},ct={class:"item__form"},nt={class:"item__price"},ut={class:"form__block"},dt=(0,a._)("legend",{class:"form__legend"},"Цвет:",-1),pt={class:"colors"},mt={class:"colors__label"},_t=["value"],ht=(0,a.uE)('<fieldset class="form__block"><legend class="form__legend">Объемб в ГБ:</legend><ul class="sizes sizes--primery"><li class="sizes__item"><label class="sizes__label"><input class="sizes__radio sr-only" type="radio" name="sizes-item" value="32"><span class="sizes__value"> 32gb </span></label></li><li class="sizes__item"><label class="sizes__label"><input class="sizes__radio sr-only" type="radio" name="sizes-item" value="64"><span class="sizes__value"> 64gb </span></label></li><li class="sizes__item"><label class="sizes__label"><input class="sizes__radio sr-only" type="radio" name="sizes-item" value="128" checked=""><span class="sizes__value"> 128gb </span></label></li></ul></fieldset>',1),ft={class:"item__row"},gt=["disabled"],vt=(0,a.Uk)(" Товар добавлен в корзину "),yt=(0,a.uE)('<div class="item__desc"><ul class="tabs"><li class="tabs__item"><a class="tabs__link tabs__link--current"> Описание </a></li><li class="tabs__item"><a class="tabs__link" href="#"> Характеристики </a></li><li class="tabs__item"><a class="tabs__link" href="#"> Гарантия </a></li><li class="tabs__item"><a class="tabs__link" href="#"> Оплата и доставка </a></li></ul><div class="item__content"><p> Навигация GPS, ГЛОНАСС, BEIDOU Galileo и QZSS<br> Синхронизация со смартфоном<br> Связь по Bluetooth Smart, ANT+ и Wi-Fi<br> Поддержка сторонних приложений<br></p><a href="#"> Все характеристики </a><h3>Что это?</h3><p> Wahoo ELEMNT BOLT GPS – это велокомпьютер, который позволяет оптимизировать свои велотренировки, сделав их максимально эффективными. Wahoo ELEMNT BOLT GPS синхронизируется с датчиками по ANT+, объединяя полученную с них информацию. Данные отображаются на дисплее, а также сохраняются на смартфоне. При этом на мобильное устройство можно установить как фирменное приложение, так и различные приложения сторонних разработчиков. Велокомпьютер точно отслеживает местоположение, принимая сигнал с целого комплекса спутников. Эта информация позволяет смотреть уже преодоленные маршруты и планировать новые велопрогулки. </p><h3>Дизайн</h3><p> Велокомпьютер Wahoo ELEMNT BOLT очень компактный. Размеры устройства составляют всего 74,6 x 47,3 x 22,1 мм. что не превышает габариты смартфона. Корпус гаджета выполнен из черного пластика. На обращенной к пользователю стороне расположен дисплей диагональю 56 мм. На дисплей выводятся координаты и скорость, а также полученная со смартфона и синхронизированных датчиков информация: интенсивность, скорость вращения педалей, пульс и т.д. (датчики не входят в комплект поставки). Корпус велокомпьютера имеет степень защиты от влаги IPX7. Это означает, что устройство не боится пыли, а также выдерживает кратковременное (до 30 минут) погружение в воду на глубину не более 1 метра. </p></div></div>',1);function bt(e,t,r,s,i,l){const c=(0,a.up)("router-link"),n=(0,a.up)("CounterProduct"),u=(0,a.up)("BaseModal");return e.productStatus.isLoading?((0,a.wg)(),(0,a.iD)("main",He,"Идёт загрузка товара...")):e.productStatus.isFailed?((0,a.wg)(),(0,a.iD)("main",Ne,"Не удалось загрузить данные о товаре")):((0,a.wg)(),(0,a.iD)("main",qe,[(0,a._)("div",Ye,[(0,a._)("ul",Ge,[(0,a._)("li",Qe,[(0,a.Wm)(c,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,a.w5)((()=>[Re])),_:1})]),(0,a._)("li",Xe,[(0,a.Wm)(c,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,m.zw)(e.category.title),1)])),_:1})]),(0,a._)("li",Je,[(0,a._)("a",et,(0,m.zw)(e.product.title),1)])])]),(0,a._)("section",tt,[(0,a._)("div",rt,[(0,a._)("div",ot,[(0,a._)("img",{width:"570",height:"570",src:e.product.imageURL,alt:e.product.title},null,8,at)])]),(0,a._)("div",st,[(0,a._)("span",it,"Артикул: "+(0,m.zw)(e.product.id),1),(0,a._)("h2",lt,(0,m.zw)(e.product.title),1),(0,a._)("div",ct,[(0,a._)("form",{class:"form",action:"#",method:"POST",onSubmit:t[4]||(t[4]=(0,o.iM)(((...t)=>e.doAddToCart&&e.doAddToCart(...t)),["prevent"]))},[(0,a._)("b",nt,(0,m.zw)(e.product.pricePretty),1),(0,a._)("fieldset",ut,[dt,(0,a._)("ul",pt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.product.colors,(r=>((0,a.wg)(),(0,a.iD)("li",{class:"colors__item",key:r.id},[(0,a._)("label",mt,[(0,a.wy)((0,a._)("input",{class:"colors__radio sr-only",type:"radio",name:"color-item",value:r.code,"onUpdate:modelValue":t[0]||(t[0]=t=>e.color=t)},null,8,_t),[[o.G2,e.color]]),(0,a._)("span",{class:"colors__value",style:(0,m.j5)({backgroundColor:r.code})},null,4)])])))),128))])]),ht,(0,a._)("div",ft,[(0,a.Wm)(n,{"product-amount":e.productAmount,"onUpdate:product-amount":t[1]||(t[1]=t=>e.productAmount=t),"page-type":e.pageType,"onUpdate:page-type":t[2]||(t[2]=t=>e.pageType=t)},null,8,["product-amount","page-type"]),(0,a._)("button",{class:"button button--primery",type:"submit",disabled:e.productAddStatus.isAddSending}," В корзину ",8,gt),(0,a.Wm)(u,{open:e.productAddStatus.isAddedMessageShowed,"onUpdate:open":t[3]||(t[3]=t=>e.productAddStatus.isAddedMessageShowed=t)},{default:(0,a.w5)((()=>[vt])),_:1},8,["open"])]),(0,a.wy)((0,a._)("div",null,"Товар добавлен в корзину",512),[[o.F8,e.productAddStatus.isAdded]]),(0,a.wy)((0,a._)("div",null,"Добавляем товар в корзину...",512),[[o.F8,e.productAddStatus.isAddSending]])],32)])]),yt])]))}var Pt=r(8957),kt=r(4870),wt=r(9098),Ct=r(2127),Dt=(0,a.aZ)({components:{CounterProduct:Pt.Z,BaseModal:G.Z},setup(){const e=(0,C.yj)(),{product:t,category:r,status:o,fetchProduct:a}=(0,wt.Z)(),{productAmount:s,status:i,doAddToCart:l}=(0,Ct.Z)(t),c=(0,kt.iH)("productPage"),n=(0,kt.iH)("#73B6EA");return a(e.params.id),{pageType:c,productAmount:s,color:n,productData:t,productStatus:o,productAddStatus:i,product:t,category:r,doAddToCart:l}}});const At=(0,v.Z)(Dt,[["render",bt]]);var It=At;const Tt={class:"content container"},xt={class:"content__top"},Zt=(0,a.uE)('<ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="index.html"> Каталог </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link"> Корзина </a></li></ul><h1 class="content__title"> Корзина </h1>',2),Ot={class:"content__info"},Ft={class:"cart"},zt={class:"cart__form form",action:"#",method:"POST"},Et={class:"cart__field"},$t={class:"cart__list"},St={class:"cart__block"},Vt=(0,a._)("p",{class:"cart__desc"}," Мы посчитаем стоимость доставки на следующем этапе ",-1),Ut={class:"cart__price"},Mt=(0,a.Uk)(" Итого: "),Lt=["disabled","onClick"];function Kt(e,t,r,o,s,i){const l=(0,a.up)("CartItem"),c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("main",Tt,[(0,a._)("div",xt,[Zt,(0,a._)("span",Ot,(0,m.zw)(e.products.length)+" товара ",1)]),(0,a._)("section",Ft,[(0,a._)("form",zt,[(0,a._)("div",Et,[(0,a._)("ul",$t,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.products,(e=>((0,a.wg)(),(0,a.j4)(l,{key:e.productID,item:e},null,8,["item"])))),128))])]),(0,a._)("div",St,[Vt,(0,a._)("p",Ut,[Mt,(0,a._)("span",null,(0,m.zw)(e.totalPricePretty),1)]),(0,a.Wm)(c,{to:{name:"order"},custom:""},{default:(0,a.w5)((({navigate:t})=>[(0,a._)("button",{class:"cart__button button button--primery",type:"submit",disabled:!e.totalPrice,onClick:t}," Оформить заказ ",8,Lt)])),_:1})])])])])}const Wt={class:"cart__item product"},jt={class:"product__pic"},Bt=["src"],Ht={class:"product__title"},Nt={class:"product__code"},qt={class:"product__price"},Yt=(0,a._)("svg",{width:"20",height:"20",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-close"})],-1),Gt=[Yt];function Qt(e,t,r,s,i,l){const c=(0,a.up)("CounterProduct");return(0,a.wg)(),(0,a.iD)("li",Wt,[(0,a._)("div",jt,[(0,a._)("img",{src:e.item.product.image,width:"120",height:"120",alt:"item.product.title"},null,8,Bt)]),(0,a._)("h3",Ht,(0,m.zw)(e.item.product.title),1),(0,a._)("span",Nt," Артикул: "+(0,m.zw)(e.item.product.id),1),(0,a.Wm)(c,{"product-amount":e.amount,"onUpdate:product-amount":t[0]||(t[0]=t=>e.amount=t),"page-type":e.pageType,"onUpdate:page-type":t[1]||(t[1]=t=>e.pageType=t)},null,8,["product-amount","page-type"]),(0,a._)("b",qt,(0,m.zw)(e.totalPricePretty),1),(0,a._)("button",{class:"product__del button-del",type:"button","aria-label":"Удалить товар из корзины",onClick:t[2]||(t[2]=(0,o.iM)(((...t)=>e.deleteProductFromCart&&e.deleteProductFromCart(...t)),["prevent"]))},Gt)])}var Rt=(0,a.aZ)({data(){return{pageType:"cartItem"}},props:["item"],components:{CounterProduct:Pt.Z},computed:{totalPricePretty(){return(0,Y.Z)(this.item.amount*this.item.product.price)},amount:{get(){return this.item.amount},set(e){this.$store.dispatch("updateCartProductAmount",{productID:this.item.productID,amount:e})}}},methods:{...(0,p.OI)({deleteProduct:"deleteCartProduct"}),deleteProductFromCart(){this.$store.dispatch("deleteCartProduct",{productID:this.item.productID})}}});const Xt=(0,v.Z)(Rt,[["render",Qt]]);var Jt=Xt,er=(0,a.aZ)({components:{CartItem:Jt},computed:{...(0,p.Se)({products:"cartDetailProducts",totalPrice:"cartTotalprice"}),totalPricePretty(){return(0,Y.Z)(this.totalPrice)}}});const tr=(0,v.Z)(er,[["render",Kt]]);var rr=tr;const or={class:"content container"},ar={class:"content__top"},sr=(0,a.uE)('<ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="index.html"> Каталог </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="cart.html"> Корзина </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link"> Оформление заказа </a></li></ul><h1 class="content__title"> Корзина </h1>',2),ir={class:"content__info"},lr={class:"cart"},cr={class:"cart__field"},nr={class:"cart__data"},ur=(0,a.uE)('<div class="cart__options"><h3 class="cart__title">Доставка</h3><ul class="cart__options options"><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="delivery" value="0" checked=""><span class="options__value"> Самовывоз <b>бесплатно</b></span></label></li><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="delivery" value="500"><span class="options__value"> Курьером <b>500 ₽</b></span></label></li></ul><h3 class="cart__title">Оплата</h3><ul class="cart__options options"><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="pay" value="card"><span class="options__value"> Картой при получении </span></label></li><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="pay" value="cash"><span class="options__value"> Наличными при получении </span></label></li></ul></div>',1),dr={key:0},pr=(0,a._)("svg",{"xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.0",width:"12px",height:"12px",viewBox:"0 0 128 128","xml:space":"preserve"},[(0,a._)("path",{fill:"#000000",d:"M64.4 16a49 49 0 0 0-50 48 51 51 0 0 0 50\n            52.2 53 53 0 0 0 54-52c-.7-48-45-55.7-45-55.7s45.3 3.8 49 55.6c.8 32-24.8 59.5-58 60.2-33 .8-61.4-25.7-62-60C1.3 29.8 28.8.6 64.3 0c0\n            0 8.5 0 8.7 8.4 0 8-8.6 7.6-8.6 7.6z"},[(0,a._)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 64 64",to:"360 64 64",dur:"1800ms",repeatCount:"indefinite"})])],-1),mr=(0,a.Uk)(" Оформляем заказ... "),_r=[pr,mr],hr={key:1},fr={key:2},gr={key:3,class:"cart__error form__error-block"},vr=(0,a._)("h4",null,"Заявка не отправлена!",-1);function yr(e,t,r,s,i,l){const c=(0,a.up)("BaseFormText"),n=(0,a.up)("BaseFormTextArea"),u=(0,a.up)("OrderCartInfo");return(0,a.wg)(),(0,a.iD)("main",or,[(0,a._)("div",ar,[sr,(0,a._)("span",ir,(0,m.zw)(e.products.length)+" товара ",1)]),(0,a._)("section",lr,[(0,a._)("form",{class:"cart__form form",action:"#",method:"POST",onSubmit:t[5]||(t[5]=(0,o.iM)(((...t)=>e.order&&e.order(...t)),["prevent"]))},[(0,a._)("div",cr,[(0,a._)("div",nr,[(0,a.Wm)(c,{modelValue:e.formData.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.formData.name=t),title:"ФИО",error:e.formError.name,placeholder:"Введите ваше полное имя"},null,8,["modelValue","error"]),(0,a.Wm)(c,{modelValue:e.formData.address,"onUpdate:modelValue":t[1]||(t[1]=t=>e.formData.address=t),title:"Адрес доставки",error:e.formError.address,placeholder:"Введите ваш адрес"},null,8,["modelValue","error"]),(0,a.Wm)(c,{modelValue:e.formData.phone,"onUpdate:modelValue":t[2]||(t[2]=t=>e.formData.phone=t),title:"Телефон",type:"tel",error:e.formError.phone,placeholder:"Введите ваш телефон"},null,8,["modelValue","error"]),(0,a.Wm)(c,{modelValue:e.formData.email,"onUpdate:modelValue":t[3]||(t[3]=t=>e.formData.email=t),title:"Email",type:"email",error:e.formError.email,placeholder:"Введи ваш Email"},null,8,["modelValue","error"]),(0,a.Wm)(n,{modelValue:e.formData.comment,"onUpdate:modelValue":t[4]||(t[4]=t=>e.formData.comment=t),title:"Комментарий к заказу",error:e.formError.comment,placeholder:"Ваши пожелания"},null,8,["modelValue","error"])]),ur]),(0,a.Wm)(u,{"page-type":"OrderPage",products:e.products,"order-delivery-price":e.orderDeliveryPrice,"order-amount-products":e.orderAmountProducts,"total-price":e.totalPrice},null,8,["products","order-delivery-price","order-amount-products","total-price"]),e.orderIsLoading?((0,a.wg)(),(0,a.iD)("div",dr,_r)):(0,a.kq)("",!0),e.orderIsDone?((0,a.wg)(),(0,a.iD)("div",hr,"Заказ оформлен")):(0,a.kq)("",!0),e.orderHasError?((0,a.wg)(),(0,a.iD)("div",fr,"Заказ не оформлен")):(0,a.kq)("",!0),e.formErrorMessage?((0,a.wg)(),(0,a.iD)("div",gr,[vr,(0,a._)("p",null,(0,m.zw)(e.formErrorMessage),1)])):(0,a.kq)("",!0)],32)])])}r(7658);const br=["type","placeholder"];function Pr(e,t,r,s,i,l){const c=(0,a.up)("BaseFormField");return(0,a.wg)(),(0,a.j4)(c,{title:e.title,error:e.error},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("input",{class:"form__input","onUpdate:modelValue":t[0]||(t[0]=t=>e.dataValue=t),type:e.type,placeholder:e.placeholder},null,8,br),[[o.YZ,e.dataValue]])])),_:1},8,["title","error"])}const kr={class:"form__label"},wr={class:"form__value"},Cr={key:0,class:"form__error"};function Dr(e,t,r,o,s,i){return(0,a.wg)(),(0,a.iD)("label",kr,[(0,a.WI)(e.$slots,"default"),(0,a._)("span",wr,(0,m.zw)(e.title),1),e.error?((0,a.wg)(),(0,a.iD)("span",Cr,(0,m.zw)(e.error),1)):(0,a.kq)("",!0)])}var Ar=(0,a.aZ)({props:["title","error"]});const Ir=(0,v.Z)(Ar,[["render",Dr]]);var Tr=Ir,xr={props:["title","error","placeholder","modelValue"],components:{BaseFormField:Tr},computed:{dataValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}},Zr=(0,a.aZ)({props:{type:{default:"text"}},mixins:[xr]});const Or=(0,v.Z)(Zr,[["render",Pr]]);var Fr=Or;const zr=["placeholder"];function Er(e,t,r,s,i,l){const c=(0,a.up)("BaseFormField");return(0,a.wg)(),(0,a.j4)(c,{title:e.title,error:e.error},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("textarea",{class:"form__input form__input--area","onUpdate:modelValue":t[0]||(t[0]=t=>e.dataValue=t),placeholder:e.placeholder}," ",8,zr),[[o.nr,e.dataValue]])])),_:1},8,["title","error"])}var $r=(0,a.aZ)({mixins:[xr]});const Sr=(0,v.Z)($r,[["render",Er]]);var Vr=Sr;const Ur={class:"cart__block"},Mr={class:"cart__orders"},Lr={class:"cart__total"},Kr=(0,a.Uk)("Доставка: "),Wr={key:0},jr={key:1},Br=(0,a.Uk)("Итого: "),Hr=(0,a.Uk)(" товара на сумму "),Nr={key:0,class:"cart__button button button--primery",type:"submit"};function qr(e,t,r,o,s,i){const l=(0,a.up)("OrderItem");return(0,a.wg)(),(0,a.iD)("div",Ur,[(0,a._)("ul",Mr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.products,(e=>((0,a.wg)(),(0,a.j4)(l,{key:e.productID,item:e},null,8,["item"])))),128))]),(0,a._)("div",Lr,[(0,a._)("p",null,[Kr,0!==r.orderAmountProducts?((0,a.wg)(),(0,a.iD)("b",Wr,(0,m.zw)(i.orderDeliveryPricePretty),1)):((0,a.wg)(),(0,a.iD)("b",jr,(0,m.zw)(0)))]),(0,a._)("p",null,[Br,(0,a._)("b",null,(0,m.zw)(r.orderAmountProducts),1),Hr,(0,a._)("b",null,(0,m.zw)(i.totalPricePretty),1)])]),"OrderPage"===r.pageType?((0,a.wg)(),(0,a.iD)("button",Nr," Оформить заказ ")):(0,a.kq)("",!0)])}const Yr={class:"cart__order"};function Gr(e,t,r,o,s,i){return(0,a.wg)(),(0,a.iD)("li",Yr,[(0,a._)("h3",null,(0,m.zw)(r.item.product.title),1),(0,a._)("b",null,(0,m.zw)(i.totalPricePretty),1),(0,a._)("span",null,"Артикул: "+(0,m.zw)(r.item.product.id),1)])}var Qr={props:["item"],computed:{totalPricePretty(){return(0,Y.Z)(this.item.amount*this.item.product.price)}}};const Rr=(0,v.Z)(Qr,[["render",Gr]]);var Xr=Rr,Jr={props:["pageType","products","orderAmountProducts","orderDeliveryPrice","totalPrice"],components:{OrderItem:Xr},computed:{totalPricePretty(){return(0,Y.Z)(this.totalPrice)},orderDeliveryPricePretty(){return(0,Y.Z)(this.orderDeliveryPrice)}}};const eo=(0,v.Z)(Jr,[["render",qr]]);var to=eo,ro=(0,a.aZ)({components:{BaseFormText:Fr,BaseFormTextArea:Vr,OrderCartInfo:to},data(){return{formData:{},formError:{},formErrorMessage:"",orderIsLoading:!1,orderIsDone:!1,orderHasError:!1}},computed:{...(0,p.Se)({products:"cartDetailProducts",orderDeliveryPrice:"orderDeliveryPrice",orderAmountProducts:"orderAmountProducts",totalPrice:"orderTotalprice"})},methods:{order(){this.formError={},this.formErrorMessage="",this.orderIsLoading=!0,this.orderIsDone=!1,clearTimeout(this.loadProductsTimer),this.loadProductsTimer=setTimeout((()=>{$.Z.post(`${Ee.C}/api/orders`,{...this.formData},{params:{userAccessKey:this.$store.state.userAccessKey}}).then((e=>{this.$store.commit("resetCart"),this.$store.commit("updateOrderInfo",e.data),this.$router.push({name:"orderInfo",params:{id:e.data.id}})})).catch((e=>{this.formError=e.response.data.error.request||{},this.formErrorMessage=e.response.data.error.message||""})).then((()=>{this.orderIsLoading=!1,this.orderHasError=!0,Object.entries(this.formError).length||(this.orderIsDone=!0,this.orderHasError=!1)}))}),3e3)}}});const oo=(0,v.Z)(ro,[["render",yr]]);var ao=oo;const so={class:"content container"},io={class:"content__top"},lo=(0,a.uE)('<ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="index.html"> Каталог </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="cart.html"> Корзина </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link"> Оформление заказа </a></li></ul>',1),co={class:"content__title"},no=(0,a.Uk)(" Заказ оформлен "),uo={class:"cart"},po={class:"cart__form form",action:"#",method:"POST"},mo={class:"cart__field"},_o=(0,a._)("p",{class:"cart__message"}," Благодарим за выбор нашего магазина. На Вашу почту придет письмо с деталями заказа. Наши менеджеры свяжутся с Вами в течение часа для уточнения деталей доставки. ",-1),ho={class:"dictionary"},fo={class:"dictionary__item"},go=(0,a._)("span",{class:"dictionary__key"}," Получатель ",-1),vo={class:"dictionary__value"},yo={class:"dictionary__item"},bo=(0,a._)("span",{class:"dictionary__key"}," Адрес доставки ",-1),Po={class:"dictionary__value"},ko={class:"dictionary__item"},wo=(0,a._)("span",{class:"dictionary__key"}," Телефон ",-1),Co={class:"dictionary__value"},Do={class:"dictionary__item"},Ao=(0,a._)("span",{class:"dictionary__key"}," Email ",-1),Io={class:"dictionary__value"},To=(0,a._)("li",{class:"dictionary__item"},[(0,a._)("span",{class:"dictionary__key"}," Способ оплаты "),(0,a._)("span",{class:"dictionary__value"}," картой при получении ")],-1);function xo(e,t,r,o,s,i){const l=(0,a.up)("OrderCartInfo");return(0,a.wg)(),(0,a.iD)("main",so,[(0,a._)("div",io,[lo,(0,a._)("h1",co,[no,(0,a._)("span",null,"№ "+(0,m.zw)(this.$store.state.orderInfo.id?this.$store.state.orderInfo.id:1),1)])]),(0,a._)("section",uo,[(0,a._)("form",po,[(0,a._)("div",mo,[_o,(0,a._)("ul",ho,[(0,a._)("li",fo,[go,(0,a._)("span",vo,(0,m.zw)(this.$store.state.orderInfo.name?this.$store.state.orderInfo.name:"Имя получателя не указано"),1)]),(0,a._)("li",yo,[bo,(0,a._)("span",Po,(0,m.zw)(this.$store.state.orderInfo.address),1)]),(0,a._)("li",ko,[wo,(0,a._)("span",Co,(0,m.zw)(this.$store.state.orderInfo.phone),1)]),(0,a._)("li",Do,[Ao,(0,a._)("span",Io,(0,m.zw)(this.$store.state.orderInfo.email),1)]),To])]),(0,a.Wm)(l,{"page-type":"OrderInfoPage",products:e.products,"total-price":e.totalPrice,"order-amount-products":e.orderAmountProducts,orderDeliveryPrice:this.$store.state.orderDeliveryPrice,totalPrice:e.totalPrice},null,8,["products","total-price","order-amount-products","orderDeliveryPrice","totalPrice"])])])])}var Zo=(0,a.aZ)({components:{OrderCartInfo:to},created(){this.$store.state.orderInfo&&this.$store.state.orderInfo.id===this.$route.params.id||this.$store.dispatch("loadOrderInfo",this.$route.params.id)},computed:{...(0,p.Se)({products:"savedOrderDetailProducts",totalPrice:"savedOrderTotalprice",orderAmountProducts:"orderAmountProducts"})}});const Oo=(0,v.Z)(Zo,[["render",xo]]);var Fo=Oo;const zo=[{name:"main",component:Le,path:"/"},{name:"product",component:It,path:"/products/:id"},{name:"cart",component:rr,path:"/cart"},{name:"order",component:ao,path:"/orders"},{name:"orderInfo",component:Fo,path:"/orders/:id"},{name:"notFound",component:Be,path:"/:pathMatch(.*)*"}],Eo=(0,C.p7)({history:(0,C.r5)(),routes:zo});var $o=Eo,So=(0,p.MT)({state:{cartProducts:[],userAccessKey:null,cartProductsData:[],orderDeliveryPrice:0,orderInfo:null},mutations:{updateOrderInfo(e,t){e.orderInfo=t},resetCart(e){e.cartProducts=[],e.cartProductsData=[]},updateCartProductAmount(e,{productID:t,amount:r}){const o=e.cartProducts.find((e=>e.productID===t));o&&(o.amount=r)},updateUserAccessKey(e,t){e.userAccessKey=t},updateCartProductsData(e,t){e.cartProductsData=t},syncCartProducts(e){e.cartProducts=e.cartProductsData.map((e=>({productID:e.product.id,amount:e.quantity})))}},getters:{cartDetailProducts(e){return e.cartProducts.map((t=>{const{product:r}=e.cartProductsData.find((e=>e.product.id===t.productID));return{...t,product:{...r,image:r.image.file.url}}}))},cartTotalprice(e,t){return t.cartDetailProducts.reduce(((e,t)=>t.product.price*t.amount+e),0)},orderTotalprice(e,t){return 0===t.cartDetailProducts.length?0:t.cartDetailProducts.reduce(((e,t)=>t.product.price*t.amount+e),0)+e.orderDeliveryPrice},savedOrderTotalprice(e,t){return 0===t.savedOrderDetailProducts.length?0:t.savedOrderDetailProducts.reduce(((e,t)=>t.product.price*t.amount+e),0)+e.orderDeliveryPrice},orderDeliveryPrice(e){return e.orderDeliveryPrice},orderAmountProducts(e,t){return t.cartDetailProducts.length?t.cartDetailProducts.reduce(((e,t)=>t.amount+e),0):t.savedOrderDetailProducts.reduce(((e,t)=>t.amount+e),0)},savedOrderDetailProducts(e){return e.orderInfo?e.orderInfo.basket.items.map((e=>({product:{productID:e.product.id,image:e.product.image.file.url,price:e.product.price,title:e.product.title},amount:e.quantity}))):[]}},actions:{loadOrderInfo(e,t){return $.Z.get(`${Ee.C}/api/orders/${t}`,{params:{userAccessKey:e.state.userAccessKey}}).then((t=>{e.commit("updateOrderInfo",t.data)}))},loadCart(e){return $.Z.get(`${Ee.C}/api/baskets`,{params:{userAccessKey:e.state.userAccessKey}}).then((t=>{e.state.userAccessKey||(localStorage.setItem("userAccessKey",t.data.user.accessKey),e.commit("updateUserAccessKey",t.data.user.accessKey)),e.commit("updateCartProductsData",t.data.items),e.commit("syncCartProducts")}))},addProductToCart(e,{productID:t,amount:r}){return new Promise((e=>{setTimeout(e,2e3)})).then((()=>$.Z.post(`${Ee.C}/api/baskets/products`,{productId:t,quantity:r},{params:{userAccessKey:e.state.userAccessKey}}).then((t=>{e.commit("updateCartProductsData",t.data.items),e.commit("syncCartProducts")}))))},updateCartProductAmount(e,{productID:t,amount:r}){if(e.commit("updateCartProductAmount",{productID:t,amount:r}),!(r<1))return $.Z.put(`${Ee.C}/api/baskets/products`,{productId:t,quantity:r},{params:{userAccessKey:e.state.userAccessKey}}).then((t=>{e.commit("updateCartProductsData",t.data.items)})).catch((()=>{e.commit("syncCartProducts")}))},deleteCartProduct(e,{productID:t}){return $.Z["delete"](`${Ee.C}/api/baskets/products`,{data:{productId:t},params:{userAccessKey:e.state.userAccessKey}}).then((t=>{e.commit("updateCartProductsData",t.data.items),e.commit("syncCartProducts")})).catch((e=>{console.log(e.response)}))}}});const Vo=(0,o.ri)({render:()=>(0,a.h)(w)});Vo.use($o),Vo.use(So),Vo.mount("#app")},8574:function(e,t,r){r.d(t,{Z:function(){return m}});var o=r(3396);const a=(0,o._)("div",{class:"teleport-blackout"},null,-1),s={ref:"contentElement",class:"teleport-modal__content"};function i(e,t,r,i,l,c){return e.open?((0,o.wg)(),(0,o.j4)(o.lR,{key:0,to:"#teleport-target"},[a,(0,o._)("div",{class:"teleport-modal",onClick:t[1]||(t[1]=(...t)=>e.onOutsideClick&&e.onOutsideClick(...t)),ref:"modal"},[(0,o._)("div",s,[(0,o._)("button",{type:"button",class:"teleport-modal__close",onClick:t[0]||(t[0]=(...t)=>e.doCloseModal&&e.doCloseModal(...t))},"X"),(0,o.WI)(e.$slots,"default")],512)],512)])):(0,o.kq)("",!0)}var l=r(4870);const c=(0,l.iH)(new Set);function n(){const{uid:e}=(0,o.FN)(),t=(0,l.iH)(!1),r=()=>{t.value=!0,c.value.add(e)},a=()=>{t.value=!1,c.value.delete(e)},s=(0,o.Fl)((()=>!!c.value.size)),i=()=>{s.value?(document.body.style.paddingRight=window.innerWidth-document.documentElement.clientWidth+"px",document.body.style.overflow="hidden"):(document.body.style.overflow=null,document.body.style.paddingRight=null)};return(0,o.YP)(s,(()=>{i()})),{doOpen:r,doClose:a,isOpen:t,isSomeOpen:s}}var u=(0,o.aZ)({props:{open:{type:Boolean}},setup(e,{emit:t}){const r=(0,l.iH)(null),{doOpen:a,doClose:s}=n(),i=()=>{t("update:open",!1)},c=e=>{e.target!==r.value&&e.target.contains(r.value)&&i()};return(0,o.YP)((()=>e.open),(e=>{e?a():s()}),{immediate:!0}),{onOutsideClick:c,doCloseModal:i,contentElement:r}}}),d=r(89);const p=(0,d.Z)(u,[["render",i]]);var m=p},8957:function(e,t,r){r.d(t,{Z:function(){return y}});var o=r(3396),a=r(9242);const s={key:0,class:"form__counter"},i=(0,o._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-minus"})],-1),l=[i],c=(0,o._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-plus"})],-1),n=[c],u={key:1,class:"product__counter form__counter"},d=(0,o._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-minus"})],-1),p=[d],m=(0,o._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-plus"})],-1),_=[m];function h(e,t,r,i,c,d){return"productPage"===this.pageType?((0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("button",{type:"button","aria-label":"Убрать один товар",onClick:t[0]||(t[0]=(0,a.iM)(((...t)=>e.decreaseProductAmount&&e.decreaseProductAmount(...t)),["prevent"]))},l),(0,o._)("label",null,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.currentProductAmount=t),onChange:t[2]||(t[2]=(0,a.iM)(((...t)=>e.changeProductAmount&&e.changeProductAmount(...t)),["prevent"]))},null,544),[[a.nr,e.currentProductAmount,void 0,{number:!0}]])]),(0,o._)("button",{type:"button","aria-label":"Добавить один товар",onClick:t[3]||(t[3]=(0,a.iM)(((...t)=>e.increaseProductAmount&&e.increaseProductAmount(...t)),["prevent"]))},n)])):"cartItem"===this.pageType?((0,o.wg)(),(0,o.iD)("div",u,[(0,o._)("button",{type:"button","aria-label":"Убрать один товар",onClick:t[4]||(t[4]=(0,a.iM)(((...t)=>e.decreaseProductAmount&&e.decreaseProductAmount(...t)),["prevent"]))},p),(0,o._)("label",null,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=t=>e.currentProductAmount=t),name:"count",onClick:t[6]||(t[6]=(0,a.iM)(((...t)=>e.increaseProductAmount&&e.increaseProductAmount(...t)),["prevent"]))},null,512),[[a.nr,e.currentProductAmount,void 0,{number:!0}]])]),(0,o._)("button",{type:"button","aria-label":"Добавить один товар",onClick:t[7]||(t[7]=(0,a.iM)(((...t)=>e.increaseProductAmount&&e.increaseProductAmount(...t)),["prevent"]))},_)])):(0,o.kq)("",!0)}var f=(0,o.aZ)({props:["productAmount","pageType","amount"],data(){return{currentProductAmount:this.productAmount?this.productAmount:this.amount}},watch:{productAmount(e){this.currentProductAmount=e}},methods:{increaseProductAmount(){this.$emit("update:productAmount",this.currentProductAmount+=1)},decreaseProductAmount(){this.$emit("update:productAmount",this.currentProductAmount-=1)},changeProductAmount(){this.$emit("update:productAmount",this.currentProductAmount)}}}),g=r(89);const v=(0,g.Z)(f,[["render",h]]);var y=v}},t={};function r(o){var a=t[o];if(void 0!==a)return a.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,o,a,s){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],a=e[u][1],s=e[u][2];for(var l=!0,c=0;c<o.length;c++)(!1&s||i>=s)&&Object.keys(r.O).every((function(e){return r.O[e](o[c])}))?o.splice(c--,1):(l=!1,s<i&&(i=s));if(l){e.splice(u--,1);var n=a();void 0!==n&&(t=n)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[o,a,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,o){return r.f[o](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/"+e+".ccbba5d6.js"}}(),function(){r.miniCssF=function(e){return"css/"+e+".7bde5aa6.css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vue3:";r.l=function(o,a,s,i){if(e[o])e[o].push(a);else{var l,c;if(void 0!==s)for(var n=document.getElementsByTagName("script"),u=0;u<n.length;u++){var d=n[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+s){l=d;break}}l||(c=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.setAttribute("data-webpack",t+s),l.src=o),e[o]=[a];var p=function(t,r){l.onerror=l.onload=null,clearTimeout(m);var a=e[o];if(delete e[o],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((function(e){return e(r)})),t)return t(r)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),c&&document.head.appendChild(l)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/vue3-project01-to-show/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,r,o,a){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css";var i=function(r){if(s.onerror=s.onload=null,"load"===r.type)o();else{var i=r&&("load"===r.type?"missing":r.type),l=r&&r.target&&r.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+l+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=i,c.request=l,s.parentNode.removeChild(s),a(c)}};return s.onerror=s.onload=i,s.href=t,r?r.parentNode.insertBefore(s,r.nextSibling):document.head.appendChild(s),s},t=function(e,t){for(var r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var a=r[o],s=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(s===e||s===t))return a}var i=document.getElementsByTagName("style");for(o=0;o<i.length;o++){a=i[o],s=a.getAttribute("data-href");if(s===e||s===t)return a}},o=function(o){return new Promise((function(a,s){var i=r.miniCssF(o),l=r.p+i;if(t(i,l))return a();e(o,l,null,a,s)}))},a={143:0};r.f.miniCss=function(e,t){var r={929:1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=o(e).then((function(){a[e]=0}),(function(t){throw delete a[e],t})))}}}(),function(){var e={143:0};r.f.j=function(t,o){var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)o.push(a[2]);else{var s=new Promise((function(r,o){a=e[t]=[r,o]}));o.push(a[2]=s);var i=r.p+r.u(t),l=new Error,c=function(o){if(r.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var s=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",l.name="ChunkLoadError",l.type=s,l.request=i,a[1](l)}};r.l(i,c,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,s,i=o[0],l=o[1],c=o[2],n=0;if(i.some((function(t){return 0!==e[t]}))){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(c)var u=c(r)}for(t&&t(o);n<i.length;n++)s=i[n],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(u)},o=self["webpackChunkvue3"]=self["webpackChunkvue3"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(9353)}));o=r.O(o)})();
//# sourceMappingURL=app.1cfddb0e.js.map